asyncapi: '2.1.0'
info:
  title: Test api
  description: Test api
  version: v1

channels:
  test/one:
    subscribe:
      summary: Test one.
      operationId: testOne
      message:
        contentType: 'application/json'
        payload:
          description: |
            This is a simple message description.
          $ref: '#/components/messages/okMessage'

  # Test comment
  test/two:
    subscribe:
      summary: Test two.
      operationId: testTwo
      message:
        contentType: 'application/json'
        payload:
          description: |
            This is a complex
            multiline description

            with blank lines
            and other things
          $ref: '#/components/messages/okMessage'

components:
  messages:
    okMessage:
      contentType: 'application/json'
      payload:
        type: object
        properties:
          status:
            type: string
            description: Ok
    unexpectedErrorMessage:
      contentType: 'application/json'
      payload:
        type: object
        properties:
          status:
            type: string
            description: Unexpected error
